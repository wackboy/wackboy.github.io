<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>李淳罡走到大雪坪崖畔，身后是一如他与绿袍女子场景的撑伞男女</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="今日内容 redis 概念 下载安装 命令操作 数据结构   持久化操作 使用Java客户端操作redis    Redis 概念：redis是一款高性能的NOSQL系列的非关系型数据库  下载安装  https:&#x2F;&#x2F;www.redis.net.cn&#x2F; 解压可以直接使用： redis.windows.conf：配置文件 redis-cli.exe：redis的客户端 redis-server.ex">
<meta property="og:type" content="article">
<meta property="og:title" content="李淳罡走到大雪坪崖畔，身后是一如他与绿袍女子场景的撑伞男女">
<meta property="og:url" content="http://example.com/2021/04/20/4.21%20Redis/index.html">
<meta property="og:site_name" content="李淳罡走到大雪坪崖畔，身后是一如他与绿袍女子场景的撑伞男女">
<meta property="og:description" content="今日内容 redis 概念 下载安装 命令操作 数据结构   持久化操作 使用Java客户端操作redis    Redis 概念：redis是一款高性能的NOSQL系列的非关系型数据库  下载安装  https:&#x2F;&#x2F;www.redis.net.cn&#x2F; 解压可以直接使用： redis.windows.conf：配置文件 redis-cli.exe：redis的客户端 redis-server.ex">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-04-20T11:55:46.603Z">
<meta property="article:modified_time" content="2020-04-22T04:41:16.109Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="李淳罡走到大雪坪崖畔，身后是一如他与绿袍女子场景的撑伞男女" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">李淳罡走到大雪坪崖畔，身后是一如他与绿袍女子场景的撑伞男女</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-4.21 Redis" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/04/20/4.21%20Redis/" class="article-date">
  <time class="dt-published" datetime="2021-04-20T11:55:46.603Z" itemprop="datePublished">2021-04-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="今日内容"><a href="#今日内容" class="headerlink" title="今日内容"></a>今日内容</h2><ol>
<li>redis<ul>
<li>概念</li>
<li>下载安装</li>
<li>命令操作<ol>
<li>数据结构</li>
</ol>
</li>
<li>持久化操作</li>
<li>使用Java客户端操作redis</li>
</ul>
</li>
</ol>
<h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><ol>
<li><p>概念：redis是一款高性能的NOSQL系列的非关系型数据库</p>
</li>
<li><p>下载安装</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.redis.net.cn/">https://www.redis.net.cn/</a></li>
<li>解压可以直接使用：<ol>
<li>redis.windows.conf：配置文件</li>
<li>redis-cli.exe：redis的客户端</li>
<li>redis-server.exe：redis服务器</li>
</ol>
</li>
</ul>
</li>
<li><p>命令操作</p>
<ol>
<li>redis的数据结构：<ul>
<li>redis存储的是：key，value格式的数据，其中key都是字符串mvalue有5中不同的数据结构<ol>
<li>value的数据结构：<ul>
<li>字符串类型 String</li>
<li>哈希类型 hash：map格式</li>
<li>列表类型 list：linkedlist格式</li>
<li>集合类型 set：</li>
<li>有序集合类型 sortedset：</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li>字符串类型 String<ul>
<li>存储：set key value</li>
<li>获取：get key</li>
<li>删除：del key</li>
</ul>
</li>
<li>哈希类型 hash<ul>
<li>存储：hset key field value</li>
<li>获取：<ol>
<li>获取指定的field对应的值：hget key field</li>
<li>获取所有的field和value：hgetall key</li>
</ol>
</li>
<li>删除：hdel key field</li>
</ul>
</li>
<li>列表类型 list：可以添加一个元素到列表的头部（左边）或者尾部（右边）<ul>
<li>添加：<ol>
<li>lpush key value：将元素加入列表左表</li>
<li>rpush key value：将元素加入列表右边</li>
</ol>
</li>
<li>获取：<ol>
<li>lrange key start end：范围获取</li>
</ol>
</li>
<li>删除：<ol>
<li>lpop key：删除列表最左边的元素，并将元素返回</li>
<li>rpop key：删除列表最右边的元素，并将元素返回</li>
</ol>
</li>
</ul>
</li>
<li>集合类型 set：不允许重复元素<ul>
<li>存储：sadd key value</li>
<li>获取：smembers key：获取set集合中所有元素</li>
<li>删除：srem key value：删除set集合中的某个元素</li>
</ul>
</li>
<li>有序集合类型 sortedset：不允许重复元素，且元素有序<ul>
<li>存储：zadd key score value：</li>
<li>获取：zrange key start end</li>
<li>删除：zren key value</li>
</ul>
</li>
<li>通用命令<ul>
<li>keys*：查询所有键</li>
<li>type key：获取键对应的value的类型</li>
<li>del key：删除指定的key value</li>
</ul>
</li>
</ol>
</li>
<li><p>持久化</p>
<ul>
<li><p>redis是一个内存的数据库，当redis服务器重启，或者电脑重启，数据会丢失，我们可以将redis内存中的数据持久化的保存到硬盘的文件中</p>
</li>
<li><p>redis持久化机制</p>
<ol>
<li><p>RDB：默认方式，不需要进行配置，默认使用这种机制</p>
<ul>
<li><p>在一定的间隔时间中，检测key的变化情况，然后持久化数据</p>
</li>
<li><p>编辑redis.windows.conf文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#	after 900 sec (15 min) if at least 1 key changed</span><br><span class="line">#   after 300 sec (5 min) if at least 10 keys changed</span><br><span class="line">#   after 60 sec if at least 10000 keys changed</span><br><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60  10000</span><br></pre></td></tr></table></figure></li>
<li><p>重新启动redis服务器，并指定配置文件名称</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server.exe redis.windows.conf</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>AOF：日志记录的方式，可以记录每一条命令的操作，可以每一次命令操作后，持久化数据</p>
<ul>
<li><p>编辑redis.windows.conf文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">appendonly no（关闭aof） ---&gt; appendonly yes（开启aof）</span><br><span class="line"># appendfsync always：每一次操作都进行持久化</span><br><span class="line">appendfsync everysec：每隔一秒及进行一次持久化</span><br><span class="line"># appendfsync no：不进行持久化</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li><p>Java客户端 Jedis</p>
<ul>
<li><p>Jedis：一款Java操作redis数据库的工具</p>
</li>
<li><p>使用步骤：</p>
<ol>
<li>下载jedis的相关jar包</li>
<li>使用</li>
</ol>
</li>
<li><p>Jedis操作各种的redis中的数据结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1. 字符串类型 String</span><br><span class="line">	set</span><br><span class="line">	get</span><br><span class="line">2. 哈希类型 hash：map格式</span><br><span class="line">	hset</span><br><span class="line">	hget</span><br><span class="line">	hgetAll</span><br><span class="line">3. 列表类型 list：linkedlist格式</span><br><span class="line">	lpush &#x2F; rpush</span><br><span class="line">	lpop &#x2F; rpop</span><br><span class="line">	lrange start end : 范围获取</span><br><span class="line">4. 集合类型 set：</span><br><span class="line">	sadd</span><br><span class="line">	smembers：获取所有元素</span><br><span class="line">5. 有序集合类型 sortedset：</span><br><span class="line">	zadd</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>jedis连接池：JedisPool</p>
<ul>
<li>使用：<ol>
<li>创建JedisPool连接池对象</li>
<li>调用方法getResource()方法获取Jedis连接、</li>
</ol>
</li>
</ul>
</li>
</ol>
<h2 id="案例："><a href="#案例：" class="headerlink" title="案例："></a>案例：</h2><ul>
<li>案例需求：<pre><code> 1. 提供index.html页面，页面中有一个省份 下拉列表
 2. 当 页面加载完成后 发送ajax请求，加载所有省份
</code></pre>
</li>
<li>注意：使用redis缓存一些不经常发生变化的数据<ol>
<li>数据库的数据一旦改变，则需要更新缓存</li>
</ol>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/04/20/4.21%20Redis/" data-id="cknpzm3e20000e8u2ffwr1486" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2021/04/20/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/04/20/4.21%20Redis/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/04/20/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>